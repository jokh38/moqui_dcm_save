# DICOM Dose Grid Scaling Fix

## Problem
DICOM RT Dose files generated by Moqui could not be read properly because the DoseGridScaling tag was set to 0, making all dose values appear as zero.

## Root Cause
Monte Carlo dose values were extremely small (~1e-9 Gy), and when converted to DICOM DS format, very small scaling factors in scientific notation were truncated to "0".

## Solution
Modified moqui/base/mqi_io.hpp to apply a minimum scaling factor of 1e-6 Gy/uint for very low dose values, ensuring proper representation in DICOM DS format.

## Result
- DICOM files now have readable scaling factor: DS [0.000001] instead of DS [0]
- Pixel data contains meaningful dose values
- DICOM files can be properly read by external software
- TwoCentimeterMode 2D dose calculations produce clinically useful DICOM files

## Files Modified
- moqui/base/mqi_io.hpp (lines ~281-288): Added minimum scaling factor logic

## Date
2025-01-20
